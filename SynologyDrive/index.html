<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="UTF-8">
        <title>Sindicación de Contenidos</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous" />
        <style>
            .bg-color-form {
                background-color: #0DBBB9;
            }
            button{
                background-color: white;
                color: gray;
                border: none;
                font-weight: bold;
            }
        </style>
        <script>
            document.addEventListener('DOMContentLoaded', () => {
                const formulario = document.querySelector('#formulario');
                formulario.addEventListener('submit', (event) => {
                    event.preventDefault();

                    // Capturar los datos del formulario
                    const titulo = document.querySelector('#titulo').value;
                    const autor = document.querySelector('#autor').value;
                    const fecha = document.querySelector('#fecha').value;
                    const cuerpo = document.querySelector('#cuerpo').value;
                    const imagen = document.querySelector('#imagen').value;

                    // Crear el objeto JSON
                    const noticia = {
                        titulo: titulo,
                        autor: autor,
                        fecha: fecha,
                        cuerpo: cuerpo,
                        imagen: imagen
                    };
                    function obtenerFeedRSS(){
                        const feedRSS = {
                            noticias: [noticia]
                        };
                        return feedRSS;
                    }

                    // Generar el XML de RSS
                    const xmlRSS = generarXMLRSS(obtenerFeedRSS());

                    // Mostrar las noticias en otro HTML (aquí se simula)
                });
            });

            // Función para generar el XML de RSS
            function generarXMLRSS(feedRSS) {
                let xml = '<?xml version="1.0" encoding="UTF-8"?>\n';
                xml += '<rss version="2.0">\n';
                xml += '<channel>\n';
                for (const noticia of feedRSS.noticias) {
                    xml += '<item>\n';
                    xml += `<title>${noticia.titulo}</title>\n`;
                    xml += `<author>${noticia.autor}</author>\n`;
                    xml += `<pubDate>${noticia.fecha}</pubDate>\n`;
                    xml += `<description>${noticia.cuerpo}</description>\n`;
                    xml += `<image>${noticia.imagen}</image>\n`;
                    xml += '</item>\n';
                }
                xml += '</channel>\n';
                xml += '</rss>';
                return xml;
            }

            // Función para mostrar el feed RSS en otro HTML (simulado)


        </script>
    </head>
    <body>
        <nav class="navbar navbar-dark bg-dark">
            <div class="container-fluid">
                <a class="navbar-brand ps-5">Introducción de Noticias</a>
            </div>
        </nav>
        <main>
            <div class="container">
                <div class="row">
                    <div class="col-sm-12 col-md-8 col-lg-5 m-auto my-5 border border-dark rounded-3 bg-color-form px-4">
                        <h1 class="text-center m-5 border border-dark p-3 rounded-pill bg-light">Registro de Noticias</h1>
                        <form id="formulario">
                            <div class="border border-dark bg-info rounded-3 mb-4 p-3 ps-4 shadow">
                                <label class="form-label text-white fst-italic fw-bold fs-5" for="titulo">Título: </label>
                                <div>
                                    <input class="form-control" type="text" id="titulo" placeholder="Introduce el título de la noticia" required>
                                </div>
                            </div>
                            <div class="border border-dark bg-info rounded-3 mb-4 p-3 ps-4 shadow">
                                <label class="form-label text-white fst-italic fw-bold fs-5" for="autor">Autor: </label>
                                <div>
                                    <input class="form-control" type="text" id="autor" placeholder="Introduce el autor de la noticia" required>
                                </div>
                            </div>
                            <div class="border border-dark bg-info rounded-3 mb-4 p-3 ps-4 shadow">
                                <label class="form-label text-white fst-italic fw-bold fs-5" for="fecha">Fecha de publicación: </label>
                                <div>
                                    <input class="form-control" type="date" id="fecha" placeholder="Introduce el día de publicación" required>
                                </div>
                            </div>
                            <div class="border border-dark bg-info rounded-3 mb-4 p-3 ps-4 shadow">
                                <label class="form-label text-white fst-italic fw-bold fs-5" for="cuerpo">Enlace: </label>
                                <div>
                                    <input class="form-control" type="text" id="cuerpo" placeholder="Introduce el cuerpo de la noticia" required>
                                </div>
                            </div>
                            <div class="border border-dark bg-info rounded-3 mb-4 p-3 ps-4 shadow">
                                <label class="form-label text-white fst-italic fw-bold fs-5" for="imagen">URL de la imagen: </label>
                                <div>
                                    <input class="form-control" type="text" id="imagen" placeholder="Introduce una imagen" pattern="https?://.+" required>
                                </div>
                            </div>
                            <button class="rounded-pill fs-4 my-4 w-100" type="submit">Enviar →</button>
                        </form>
                    </div>
                </div>
            </div>
        </main>
    </body>
</html>
